 GitHub Copilot Instructions

## ğŸ“± Projecte: Mushroom Finder

Una aplicaciÃ³ mÃ²bil hÃ­brida amb Ionic React per trobar i compartir ubicacions de bolets.

## ğŸ—ï¸ Arquitectura del Projecte

### Tecnologies principals

- **Framework**: Ionic React + TypeScript
- **Build Tool**: Vite
- **AutenticaciÃ³**: Firebase Auth
- **Routing**: React Router
- **Estils**: CSS + Variables CSS d'Ionic

### Estructura de carpetes

```
src/
â”œâ”€â”€ components/       # Components reutilitzables (AuthGuard, LogoutButton)
â”œâ”€â”€ pages/           # PÃ gines de l'aplicaciÃ³ (Map, AddLocation, Profile, Login)
â”œâ”€â”€ routes/          # ConfiguraciÃ³ de routes centralitzada
â”œâ”€â”€ services/        # Serveis (authService per Firebase)
â”œâ”€â”€ contexts/        # React Contexts (AuthContext)
â”œâ”€â”€ config/          # ConfiguraciÃ³ (firebase.ts amb variables d'entorn)
â””â”€â”€ theme/          # Variables CSS personalitzades
```

## ğŸ¯ Convencions del Projecte

### Nomenclatura

- **Components**: PascalCase (ex: `AuthGuard`, `LogoutButton`)
- **PÃ gines**: PascalCase (ex: `Map`, `AddLocation`)
- **Fitxers**: camelCase per utils, PascalCase per components
- **Variables d'entorn**: `VITE_` prefix obligatori
- **CSS classes**: kebab-case

### Idioma

- **Codi i comentaris**: AnglÃ¨s per funcions i variables
- **Textos d'usuari**: CatalÃ 
- **DocumentaciÃ³**: CatalÃ 

### Patrons de codi

- Utilitza `React.FC` per components funcionals
- Hook `useAuth()` per gestionar autenticaciÃ³
- Variables d'entorn amb `import.meta.env.VITE_*`
- GestiÃ³ d'errors amb try/catch i missatges en catalÃ 

## ğŸ” AutenticaciÃ³

### Flux d'autenticaciÃ³

1. `AuthProvider` envolta tota l'app
2. `AuthGuard` protegeix les routes privades
3. `useAuth()` hook per accedir a l'estat d'auth
4. `authService` gestiona les operacions Firebase

### Components d'autenticaciÃ³

- `Login.tsx`: PÃ gina de login/registre
- `AuthGuard.tsx`: ProtecciÃ³ de routes
- `LogoutButton.tsx`: BotÃ³ de logout amb confirmaciÃ³
- `AuthContext.tsx`: Context global d'autenticaciÃ³

## ğŸ§­ Routes

### Sistema de routes

- ConfiguraciÃ³ centralitzada a `src/routes/routes.tsx`
- Routes dinÃ miques generades des d'array de configuraciÃ³
- TabBar dinÃ mica amb botÃ³ de logout integrat
- ProtecciÃ³ automÃ tica amb AuthGuard

### Routes disponibles

- `/map` - PÃ gina del mapa (privada)
- `/add-location` - Afegir nova ubicaciÃ³ (privada)
- `/profile` - Perfil d'usuari (privada)
- Login automÃ tic si no autenticat

## ğŸ¨ Estils i UI

### Components Ionic utilitzats

- `IonPage`, `IonHeader`, `IonContent` per estructura
- `IonTabs`, `IonTabBar`, `IonRouterOutlet` per navegaciÃ³
- `IonCard`, `IonButton`, `IonInput` per formularis
- `IonToast`, `IonAlert`, `IonLoading` per feedback

### Variables CSS personalitzades

- Utilitzar variables CSS d'Ionic: `var(--ion-color-primary)`
- Classes personalitzades amb prefix del component
- Responsive design amb CSS Grid i Flexbox

## ğŸ”§ ConfiguraciÃ³

### Variables d'entorn

Totes les variables sensibles a `.env`:

- `VITE_FIREBASE_*` per configuraciÃ³ Firebase
- `VITE_APP_*` per metadades de l'aplicaciÃ³

### Firebase

- ConfiguraciÃ³ a `src/config/firebase.ts`
- Utilitza variables d'entorn per seguretat
- Auth, Analytics configurat

## ğŸ“ Suggeriments per Copilot

### Quan generes codi nou:

1. **Utilitza TypeScript** amb tipus explÃ­cits
2. **Segueix els patrons** existents del projecte
3. **Integra amb l'autenticaciÃ³** si Ã©s necessari
4. **Utilitza components Ionic** per consistÃ¨ncia
5. **Afegeix gestiÃ³ d'errors** adequada
6. **Textos en catalÃ ** per l'usuari final

### Exemples de bones prÃ ctiques:

```typescript
// âœ… Component amb tipus i hook d'auth
const MyComponent: React.FC = () => {
  const { user, loading } = useAuth();

  if (loading) return <IonSpinner />;

  return (
    <IonPage>
      <IonContent>{/* contingut */}</IonContent>
    </IonPage>
  );
};

// âœ… GestiÃ³ d'errors en catalÃ 
try {
  await authService.login(email, password);
} catch (error) {
  setToastMessage("Error d'autenticaciÃ³: " + error.message);
}
```

### Evita:

- Hardcodejar URLs o configuracions
- Barrejar anglÃ¨s i catalÃ  en textos d'usuari
- Components sense tipus TypeScript
- LÃ²gica d'autenticaciÃ³ fora del sistema existent

## ğŸš€ Funcionalitats principals

### Implementades

- âœ… Sistema d'autenticaciÃ³ complet
- âœ… Routes protegides
- âœ… NavegaciÃ³ amb tabs
- âœ… Variables d'entorn segures
- âœ… Estructura escalable

### Per implementar (suggeriments)

- ğŸ”„ IntegraciÃ³ amb mapes (Google Maps/Leaflet)
- ğŸ”„ Base de dades per ubicacions (Firestore)
- ğŸ”„ CÃ mera per fotos de bolets
- ğŸ”„ GeolocalitzaciÃ³
- ğŸ”„ Compartir ubicacions
- ğŸ”„ Perfil d'usuari editable

Utilitza aquestes instruccions per generar codi consistent amb l'arquitectura i estil del projecte!
